# VPS Scripts Crontab Example
#
# RECOMMENDED: Use the interactive installer instead of manual setup:
#   ./install-crontab.sh
#
# The installer will:
#   - Detect your installation directory automatically
#   - Configure timezone settings
#   - Let you choose which jobs to enable
#   - Ask for file storage UUIDs if needed
#
# Manual installation: crontab -e and add entries below (update paths first!)

# TIMEZONE SETUP (Important!)
# Cron uses the system timezone. Verify yours is correct:
#   timedatectl                                       # Check current timezone
#   sudo timedatectl set-timezone America/New_York   # Set timezone
#   sudo systemctl restart cron                       # Restart cron after change
#
# Alternatively, set timezone for all jobs in this crontab:
# CRON_TZ=America/New_York
#
# Or prefix individual commands:
# 0 2 * * * TZ=America/New_York /path/to/script.sh

# NOTIFICATIONS & MONITORING
# Configure in .env file:
#   DISCORD_WEBHOOK_URL    - Discord notifications (summary after each run)
#   SMTP_HOST/EMAIL_TO     - Email notifications (detailed, failures by default)
#   HEALTHCHECK_URL        - Dead man's switch (e.g., healthchecks.io)
#
# Scripts automatically send notifications - no wrapper needed!

# ============================================================================
# MANUAL CRON ENTRIES (update /path/to/vps-scripts to your installation path)
# ============================================================================

# Update Cloudflare IP list with GitHub Actions IPs (every 6 hours)
0 */6 * * * /path/to/vps-scripts/scripts/update-cf-github-ips.sh

# Backup databases - auto-discovers MySQL, PostgreSQL, SQLite (daily at 2 AM)
0 2 * * * /path/to/vps-scripts/scripts/backup-databases.sh

# Backup file storage - weekly on Sunday at 3 AM (replace with your UUIDs)
# 0 3 * * 0 /path/to/vps-scripts/scripts/backup-databases.sh --files-only uuid1 uuid2

# Full Coolify setup backup (weekly on Sunday at 4 AM)
0 4 * * 0 /path/to/vps-scripts/scripts/backup-coolify-setup.sh
